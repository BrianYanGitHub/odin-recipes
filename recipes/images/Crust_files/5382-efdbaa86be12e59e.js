(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5382],{94184:function(e,t){var n;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var a=r.apply(null,n);a&&e.push(a)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var c in n)o.call(n,c)&&n[c]&&e.push(c);else e.push(n.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},65382:function(e,t,n){"use strict";n.d(t,{Z:function(){return M}});var o=n(59499),r=n(85893),i=n(67294),a=n(4730),c=n(50308),s=n.n(c),l=n(94184),u=n.n(l),d=n(19521),p=n(68567),f=n(38043),v=n(85251),g=n(16578),y=n(88299);const h=["caption","center","className","error","isFetching","onClick"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const m="@web/GeolocationButton/Button",j="@web/GeolocationButton/ErrorText",w="@web/GeolocationButton/LoadingSpinner",P=(0,d.ZP)(v.Yd).withConfig({displayName:"GeolocationButton__BlankButton",componentId:"sc-13vdkjk-0"})(["border-color:transparent;"]),_=e=>{let{caption:t="Use my current location",center:n=!1,className:o,error:i,isFetching:c=!1,onClick:l=s()}=e,d=(0,a.Z)(e,h);return(0,r.jsxs)("div",O(O({className:u()(o,{"h-text-center":n})},(0,f.m)(d)),{},{children:[(0,r.jsxs)(g.X,{center:n?"xs":void 0,children:[(0,r.jsxs)(P,{className:"h-padding-h-none","data-test":m,onClick:l,role:"link",children:[(0,r.jsx)(p.J,{size:14}),(0,r.jsx)("span",{className:"h-text-underline h-text-md h-padding-l-tight",children:t})]}),c&&(0,r.jsx)(y.$,{className:"h-margin-a-none h-margin-l-tight","data-test":w,size:"small"})]}),!!i&&(0,r.jsx)("div",{className:"h-text-sm h-text-orangeDark","data-test":j,role:"alert",children:i})]}))};async function x(){const{coords:{accuracy:e,latitude:t,longitude:n}}=await new Promise(((e,t)=>{var n;const o=null===(n=window.navigator)||void 0===n?void 0:n.geolocation;if(null===o||void 0===o||!o.getCurrentPosition)return t({message:"Geolocation API not available"});o.getCurrentPosition((t=>e(t)),(e=>t({message:e.message,code:e.code})))}));return{accuracy:e,latitude:t,longitude:n}}_.displayName="GeolocationButton";var k=n(64595),C=n(52054);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const S="@web/domain-locations/get-location-from-geolocation",{useQuery:E}=(0,k.J)({name:S,keyFn:e=>"undefined"!==typeof e.latitude&&"undefined"!==typeof e.longitude&&[S,e],queryFn:async function(e){let{latitude:t,longitude:n}=e,{requestMetricsOptions:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={place:"".concat(t,",").concat(n)},i=(0,C.r)({requestParams:r,fetchOptions:D({errorTag:"get_location_from_geolocation_geocodes_v1_api_error",timerTag:"get_location_from_geolocation_geocodes_v1_api_call"},o)}),{data:a,ok:c,statusText:s}=await i.fetch();if(c)return a;throw new Error("".concat(s))}});var B=n(45175);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const M=e=>{let{onGeolocationDataLoaded:t,requestMetricsOptions:n}=e;const{0:o,1:a}=(0,i.useState)("idle"),{0:c,1:s}=(0,i.useState)(null),l=(0,i.useCallback)((async()=>{a("pending");try{const{latitude:e,longitude:t}=await x();s({latitude:e,longitude:t})}catch(e){a("error")}}),[]),[u,{isError:d,isSuccess:p}]=E(null!==c&&void 0!==c?c:{},n);return(0,i.useEffect)((()=>{if(c&&p&&"pending"===o){const e=u(B.Ol),n=u(B.so),o=u(B.Vv);if(!e)return;a("success"),t(U(U({},c),{},{zipCode:e,state:n,countryCode:o}))}}),[c,o,p,t,u]),(0,i.useEffect)((()=>{d&&a("error")}),[d]),(0,r.jsx)(_,{error:"error"===o?"We are unable to retrieve your location. Please try again later.":void 0,isFetching:"pending"===o,onClick:l})};M.displayName="GeolocationButtonContainer"},45175:function(e,t,n){"use strict";n.d(t,{Vv:function(){return p},WW:function(){return l},hU:function(){return u},so:function(){return d},Ol:function(){return s}});var o=n(68697);const r={"United States":"US"},i=((0,o.P1)((e=>null===e||void 0===e?void 0:e.locations),(e=>null!==e&&void 0!==e?e:[])),e=>null===e||void 0===e?void 0:e.address),a=(0,o.P1)(i,(e=>null===e||void 0===e?void 0:e.postal_code)),c=((0,o.P1)(a,(e=>{var t;return null===e||void 0===e||null===(t=e.match(/\d{5}/))||void 0===t?void 0:t[0]})),(0,o.P1)(i,a,((e,t)=>[null===e||void 0===e?void 0:e.address_line1,null===e||void 0===e?void 0:e.address_line2,null===e||void 0===e?void 0:e.city,[null===e||void 0===e?void 0:e.region,t].filter(Boolean).join(" ")].filter(Boolean).join(", "))),e=>{var t,n;return null===(t=(e=>null===e||void 0===e?void 0:e.locations)(e))||void 0===t||null===(n=t[0])||void 0===n?void 0:n.address}),s=e=>{var t;return null===(t=c(e))||void 0===t?void 0:t.postalCode},l=e=>{var t;return null===(t=c(e))||void 0===t?void 0:t.latitude},u=e=>{var t;return null===(t=c(e))||void 0===t?void 0:t.longitude},d=e=>{var t;return null===(t=c(e))||void 0===t?void 0:t.subdivision},p=e=>{const t=(e=>{var t;return null===(t=c(e))||void 0===t?void 0:t.countryName})(e);return t?r[t]:void 0}},52054:function(e,t,n){"use strict";n.d(t,{r:function(){return a}});var o=n(96012),r=n(69027),i=n(92354);const a=(0,n(72113).N)()((e=>{const{fetchOptions:t,requestParams:n}=e,{apis:{locationPromixitiesV1:a},baseUrl:c,apiKey:s}=(0,o.asConfigV2)(o.config).services.apiPlatform,l=i.Z.buildURLWithParams(new URL(a.endpointPaths.geocodes,c),{place:n.place,key:s});return{fetch:()=>(0,r.U2)(l,t),options:e,url:l}}))},68567:function(e,t,n){"use strict";n.d(t,{J:function(){return u}});var o=n(84314),r=n(67294),i=n(73955),a=n.n(i);function c(){var e=(0,o._)(['<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" focusable="false" role="presentation"><path d="M12.134 22.927a.153.153 0 01-.047.047.159.159 0 01-.221-.047C7.469 16.097 5.16 12.372 4.94 11.752c-.447-.958-.641-1.929-.641-3.163C4.3 4.48 7.748 1 12 1c4.253 0 7.7 3.479 7.7 7.59 0 1.233-.207 2.238-.641 3.162-.22.62-2.528 4.346-6.925 11.175zM12.001 12a3.3 3.3 0 10-.002-6.6 3.3 3.3 0 00.002 6.6z" fill-rule="evenodd"/></svg>']);return c=function(){return e},e}var s=(0,n(53131).No)(c()),l={width:24,height:24,id:"GeneralUseMyLocation",monochrome:!0,grayscale:!1,fullColor:!1,fills:["#333333"],nameComponents:{name:"UseMyLocation",category:"General",variant:null}},u=function(e){var t=e.id||a()("nds-Icon"),n=s({idPrefix:t});return r.createElement(o.I,Object.assign({},e,{svgData:n,svgMetadata:l}))};u.metadata=l,u.displayName="IconGeneralUseMyLocation"}}]);