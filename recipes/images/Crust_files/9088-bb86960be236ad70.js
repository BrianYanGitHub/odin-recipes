"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9088,2812],{39084:function(e,r,t){t.d(r,{R:function(){return k}});var n=t(19525),o=t(59499),a=t(67294),i=t(17724),s=t(30094),c=t(22803),d=t(31362),u=t(38561),l=t(57196),p=t(13404),v=t(41),y=t(41609),h=t.n(y),f=t(11163),g=t(74965),m=t(88169),b=t(61982),P=t(50794);const O=()=>{const{asPath:e}=(0,f.useRouter)(),r=(0,g.aZ)(e),t=(0,b.s)(e,r),n=(0,P.e2)(e),o=(0,P.WS)(e),a=(0,s.r)()((0,m.KV)("/adaptive/placeholders/productgrid/v01/mobile")),i=h()(a);return t||n||!o&&i};function w(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}const _=e=>{var r;const{isEnhancedPayloadReady:t}=e,{trackEvent:n}=(0,i.rS)(),y=(0,s.r)()(),h=Boolean(y),g=(0,v.p)(),m=(0,c.A)(d.uS),b=O(),_=null===(r=(0,c.A)(u.DH))||void 0===r?void 0:r.promotion_id,R=(()=>{const{asPath:e}=(0,f.useRouter)();return(0,P.WS)(e)})(),A=(0,p._l)(m),E=(0,l.a)();return(0,a.useEffect)((()=>{t&&(h||g)&&setTimeout((()=>{n(function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?w(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({guest:{eventType:"pageload"},experience:E},R&&_?{promotionInfo:{promos:[{id:_}]}}:void 0)),n({guest:{eventType:"prodimp"}}),n({guest:{eventType:"adimp"},adImpressions:b?[]:A})}))}),[A,E,h,t,g,b,R,_,n]),null};_.displayName="ProductListingPageTrackEvents";var R=t(98298),A=t(78005),E=t(36118);function j(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function T(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?j(Object(t),!0).forEach((function(r){(0,o.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const S=()=>{const e=O(),r=(0,A.U)(),t=(0,p.w9)(),n=(0,p.Po)(),o=(0,a.useCallback)((o=>{const a=T(T({},o),{},{experimentsViewed:n});return e?a.products=[]:(a.products=r,a.searchResults=t),a}),[e,r,t,n]);return{isEnhancedPayloadReady:(()=>{const e=(0,c.A)(E.wj),r=(0,c.A)(E.RJ),t=(0,c.A)(E.rQ);return Boolean(!r&&!e&&t)})(),makeEnhancedPayload:o}},k=e=>{let{children:r}=e;const{makeEnhancedPayload:t,isEnhancedPayloadReady:o}=S();return(0,n.Z)(R.H,{makeEnhancedPayload:t},void 0,(0,n.Z)(_,{isEnhancedPayloadReady:o}),r)};k.displayName="ProductListingPageWithTrackingPayload"},55529:function(e,r,t){t.d(r,{V:function(){return C}});var n=t(19525),o=t(67294),a=t(66388),i=t(62013),s=t(11163),c=t(48118),d=t(55590),u=t(17613),l=t(81844),p=t(26098),v=t(92354),y=t(30094),h=t(88169),f=t(50794);const g=e=>{let{children:r}=e;const t=(0,s.useRouter)(),{asPath:a,query:i,replace:g}=t,m=(0,f.qP)(a),b=(0,y.r)(),[P]=(0,d.k)({partner_id:b(h.MA)},{enabled:Boolean(m)}),O=P(l.L),w=null===O||void 0===O?void 0:O.facet_id,_=m&&w?{category:w}:void 0,[R,A]=(0,c.usePlpSearchV1QueryWithVariables)(_,{shouldNotWaitForCorrectVariablesOnHardRoute:!0,enabled:!m||Boolean(w)}),{isError:E,isFetching:j,isFetched:T,isIdle:S,isLoading:k,isSuccess:C,status:N}=A,I=(0,o.useMemo)((()=>({isError:E,isFetching:j,isFetched:T,isIdle:S,isLoading:k,isSuccess:C,status:N})),[E,j,T,S,k,C,N]),D=R((e=>{var r,t,n;return null===e||void 0===e||null===(r=e.search)||void 0===r||null===(t=r.search_response)||void 0===t||null===(n=t.typed_metadata)||void 0===n?void 0:n.redirect_url}));(0,o.useEffect)((()=>{if(!D)return;const e=null===D||void 0===D?void 0:D.replace(/^https?:\/\/www.target.com/,"");g(e)}),[g,D]);const x="true"===(0,p.jI)(i,"facetRecovery")||void 0;if((0,o.useEffect)((()=>{if(!x)return;const e=new v.Z(a).removeQuery("facetRecovery").toString();g(e)}),[x,a,g]),D)return null;const L=R();return(0,n.Z)(u.U,{debugName:"PlpSearchV1Fetcher",queryResult:I,searchResponseData:null===L||void 0===L?void 0:L.search},void 0,r)};g.displayName="PlpSearchV1Fetcher";var m=t(49821),b=t(5152),P=t.n(b),O=t(15868);const w=P()((()=>t.e(426).then(t.bind(t,67628)).then((e=>e.ProductListingPageJsonLdScript))),{loadableGenerated:{webpack:()=>[67628]}}),_=(e,r)=>{O.Z.err("load_json_ld_component_error",{error:e,message:r})};function R(){return(0,n.Z)(m.S,{onError:_},void 0,(0,n.Z)(w,{}))}R.displayName="ProductListingPageJsonLd";var A=t(41609),E=t.n(A),j=t(15363),T=t(22803),S=t(75776);const k=()=>{const e=(0,j.CP)(),r=(0,y.r)(),t=!e||Boolean(r()),n=(0,T.A)((e=>e)),a=(0,o.useCallback)((()=>{t&&(E()(n)||O.Z.logPageLoaded())}),[t,n]);return(0,S.I)(a),null};k.displayName="ProductListingPageMetrics";const C=e=>{let{children:r}=e;const{isBot:t}=(0,o.useContext)(a.I.Context);return(0,n.Z)(g,{},void 0,(0,n.Z)(i.u,{}),t?(0,n.Z)(R,{}):null,(0,n.Z)(k,{}),r)};C.displayName="ProductListingPageWrapper"},55590:function(e,r,t){t.d(r,{k:function(){return l}});var n=t(64595),o=t(88141),a=t(92354),i=t(10341),s=t(69485),c=t(55825);const{getServicesConfig:d}=(0,s.e)()({redskyAggregations:{baseUrl:c.g.redsky.production,endpointPaths:{partnerContentV1:"redsky_aggregations/v1/web/partner_content_v1"},apiKey:""}}),u="@web/domain/partner-content-v1",{useQuery:l}=(0,n.J)({name:u,keyFn:e=>{if("undefined"===typeof e.partner_id)throw new TypeError("partner_id is required");return[u,e]},queryFn:async e=>{const{partner_id:r}=null!==e&&void 0!==e?e:"",{apiKey:t,baseUrl:n,endpointPaths:s}=d().redskyAggregations;if(!s||!s.partnerContentV1)throw new Error("path not defined for partner_content_v1 query");const c={key:t,partner_id:r},u=a.Z.buildURLWithParams(s.partnerContentV1,c,n),{data:l,ok:p,statusText:v}=await(0,o.G)(u,{errorTag:i.jD.REDSKY_AGGREGATIONS_PARTNER_CONTENT_API_ERROR,partialErrorTag:i.jD.REDSKY_AGGREGATIONS_PARTNER_CONTENT_PARTIAL_API_ERROR,timerTag:i.sO.REDSKY_AGGREGATIONS_PARTNER_CONTENT_API_CALL});if(p)return null===l||void 0===l?void 0:l.data;throw new Error("".concat(v))}})},81844:function(e,r,t){t.d(r,{F:function(){return o},L:function(){return n}});const n=e=>null===e||void 0===e?void 0:e.partner,o=e=>{var r;return null===e||void 0===e||null===(r=e.partner)||void 0===r?void 0:r.content}},78005:function(e,r,t){t.d(r,{U:function(){return h}});var n=t(67294),o=t(11163),a=t(3762),i=t(55977),s=t(49018),c=t(26306),d=t(74444),u=t(72514),l=t(22803),p=t(31362),v=t(4308),y=t(70440);const h=()=>{const{asPath:e}=(0,o.useRouter)(),r=(0,a.o)(e),t=(0,s.Ao)(c.hg),h=(0,s.ct)(c.hg),f=(0,s.Ao)(d.st),g=(0,s.Ao)(d._2),m=(0,s.ct)(d.vO),b=(0,s.Ao)(d.zz),P=(0,s.Ao)(d.L),O=(0,s.ct)(u.tc),w=(0,s.ct)(u.Mb),_=(0,l.A)(p.uS);return(0,n.useMemo)((()=>{if(r!==i.Hs){return null===_||void 0===_?void 0:_.map((e=>({tcin:(0,c.lh)(e),placementType:(0,y.H9)(r),webClass:(0,d.st)(e),webSubClass:(0,d._2)(e),seller:(0,d.zz)(e)?{id:(0,d.vO)(e)}:void 0,sponsor:(0,v.$y)(e)?{name:(0,v.Xn)(e)}:void 0})))}return[{addOnItem:P,averageRating:O,childTCIN:t,numberOfReviews:w,placementType:"pdp",productViews:!0,tcin:h,webClass:f,webSubClass:g,seller:b?{id:m}:void 0}]}),[P,O,t,w,h,f,g,m,_,r,b])}},13404:function(e,r,t){t.d(r,{Po:function(){return S},_l:function(){return C},w9:function(){return k}});var n=t(59499),o=t(82492),a=t.n(o),i=t(41609),s=t.n(i),c=t(67294),d=t(11163),u=t(53104),l=t(26098),p=t(3762),v=t(22803),y=t(89330),h=t(86513),f=t(31362),g=t(4308),m=t(26306),b=t(65359),P=t(82283),O=t(30094),w=t(87418),_=t(28825),R=t(70440),A=t(50794);function E(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function j(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?E(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const T={classifier:void 0,customPlp:!1,displayView:"standard",scan:!1,scanError:!1,scanType:"",searchKeywordMatch:"",searchRedirect:!1,searchRephrase:!1,searchType:"",search:!0},S=()=>{var e,r,t;const n=(0,O.r)()(),o=null===n||void 0===n||null===(e=n.metadata)||void 0===e?void 0:e.xv,i=null===o||void 0===o?void 0:o.map((e=>({contextQualified:e.xc?e.xc:void 0,treatmentDelivered:e.xd?Object.entries(a()(...e.xd)).map((e=>{let[r,t]=e;return{key:r,value:t}})):void 0,treatmentId:e.xt}))),c=(0,v.A)((e=>e)),d=null===c||void 0===c||null===(r=c.search_response)||void 0===r||null===(t=r.experiments_viewed)||void 0===t?void 0:t.xv,u=null===d||void 0===d?void 0:d.map((e=>({contextQualified:e.xc?e.xc:void 0,treatmentErrorId:e.err?e.err:void 0,treatmentId:e.xt}))),l=[...null!==i&&void 0!==i?i:[],...null!==u&&void 0!==u?u:[]];return s()(l)?void 0:l},k=()=>{var e,r,t,n;const o=(0,d.useRouter)(),{asPath:a,query:i}=o,s=(0,p.o)(a),m=null===(e=(0,v.A)(y.N2))||void 0===e?void 0:e.toString(),O=(0,v.A)(y.mC),E=(0,v.A)(y.Xn),S=Boolean((0,v.A)(y.th)),k=(0,v.A)(y.BE),C=(0,v.A)(y.Ov),N=Boolean(C),I=N?C:k,D=(0,l.jI)(i,"searchTermRaw"),x=(0,A.PC)(o),L=null===(r=(0,v.A)((0,w.kl)("d_categorytaxonomy")))||void 0===r||null===(t=r.details)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.display_name,Z=(0,v.A)(w.ZU),V=(0,R.OQ)(),M=(0,c.useMemo)((()=>(0,u.Gc)()),[a]),{previousSearchTerm:G}=M,F=!!I&&I!==G,B=(0,R.Bd)(),q=(0,v.A)(h.jA),[K]=(0,P.h)(),Q=K(b.iX),U=(0,v.A)(f.uS),W=(0,c.useMemo)((()=>null===U||void 0===U?void 0:U.filter((e=>(0,g.$y)(e))).length),[U]),H=(0,c.useMemo)((()=>null===q||void 0===q?void 0:q.map((e=>{var r;return null===(r=e.values)||void 0===r?void 0:r.map((r=>({type:e.facet,value:r.label})))})).flat()),[q]),z=(0,c.useMemo)((()=>{const e=null===x||void 0===x?void 0:x.includes(_.Ti);if(x&&Q&&e)return[{type:"d_storeavailability",value:Q}]}),[Q,x]),J=(0,c.useMemo)((()=>[...null!==H&&void 0!==H?H:[],...null!==z&&void 0!==z?z:[]]),[H,z]),X=["search","category"].includes(s),Y=["search","category","seller"].includes(s),$=(0,c.useMemo)((()=>j(j({},X?T:void 0),{},{displayView:"standard",hasPreselectedFacet:Z,newSearch:F,nullSearch:0===O&&!S,refinement:J,resultCount:O,searchAutocorrect:N,searchPage:m,searchRawTerm:D||k,searchRecovery:B,searchRedirect:S,searchTerm:"search"!==s?"non-search":null!==I&&void 0!==I?I:"",sortMethod:E,typeAhead:V,searchCategory:L,sponsoredResultCount:W})),[Z,S,F,s,J,O,N,L,k,m,D,B,I,X,E,V,W]);if(Y)return $},C=e=>(0,c.useMemo)((()=>null===e||void 0===e?void 0:e.filter((e=>(0,g.$y)(e))).map((e=>{var r,t;const n=null!==(r=(0,m.hg)(null===e||void 0===e?void 0:e.parent))&&void 0!==r?r:(0,m.hg)(e),{ad_source:o,impression_id:a}=null!==(t=(0,g.TV)(e))&&void 0!==t?t:{};return{creativeId:a,lineItemId:n,sponsor:{name:o}}}))),[e])}}]);